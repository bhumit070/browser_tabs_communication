(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function s(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(o){if(o.ep)return;o.ep=!0;const r=s(o);fetch(o.href,r)}})();const u=[...document.querySelectorAll(".audio-player-button")],f={"calm-chill-beautiful":"/audio/calm-chill-beautiful-141317.mp3","happy-day-background-vlog-music":"/audio/happy-day-background-vlog-music-148320.mp3","motivational-electronic-distant":"/audio/motivational-electronic-distant-132919.mp3","summer-party":"/audio/summer-party-157615.mp3","tvari-tokyo-cafe":"/audio/tvari-tokyo-cafe-159065.mp3"};let p=new BroadcastChannel("audio-player"),a=new Audio;a.addEventListener("loadedmetadata",async()=>{p.postMessage({type:"audio-played"}),await a.play()});a.onerror=e=>{console.error(e)};let l,d;p.onmessage=({data:e={}})=>{const{type:t}=e||{};t==="audio-played"&&(a.paused||(a.pause(),n(d,!1)))};function n(e,t){if(e){const s=t?"audio-controls-play":"audio-controls",i=t?"audio-controls":"audio-controls-play";e.classList.remove(i),e.classList.add(s),e.textContent=t?"Pause":"Play"}}async function m(e){try{const t=e.getAttribute("name");if(!t)return;const s=f[t],i=`${window.location.protocol}//${window.location.host}${s}`;if(l===i){a.paused?(await a.play(),n(e,!0)):(a.pause(),n(e,!1));return}else n(d,!1),d=e;l=i,a.src=l,document.body.appendChild(a),n(e,!0)}catch(t){console.error(t)}}u.length&&u.forEach(e=>{e.addEventListener("click",()=>m(e))});
